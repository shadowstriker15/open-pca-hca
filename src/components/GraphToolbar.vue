<template>
  <v-row class="toolbar" style="justify-content: space-between">
    <!-- Fullscreen -->
    <div @click="toggleFullscreen" class="toolbar-icon">
      <svg
        v-if="!isFullscreen"
        xmlns="http://www.w3.org/2000/svg"
        width="2.5rem"
        height="2.5rem"
        viewBox="0 0 1024 1024"
      >
        <path
          d="M959.688 920.068l0.31-176c0.040-22.094-17.84-40.032-39.93-40.070-22.092-0.040-40.032 17.838-40.070 39.93l-0.142 79.672-235.734-235.732c-15.622-15.622-40.948-15.622-56.57 0s-15.622 40.948 0 56.568l235.442 235.442-78.946-0.1c-22.092-0.028-40.022 17.86-40.050 39.952-0.014 11.064 4.464 21.084 11.714 28.334 7.228 7.224 17.208 11.702 28.236 11.714l175.688 0.22c22.086 0.028 40.014-17.846 40.052-39.93zM920.178 64.228l-176-0.308c-22.094-0.040-40.032 17.84-40.070 39.93-0.040 22.092 17.838 40.032 39.93 40.070l79.672 0.14-235.732 235.734c-15.622 15.622-15.622 40.948 0 56.568s40.948 15.622 56.568 0l235.442-235.442-0.1 78.946c-0.028 22.092 17.86 40.022 39.952 40.050 11.064 0.014 21.084-4.464 28.334-11.714 7.224-7.228 11.702-17.208 11.714-28.236l0.22-175.688c0.026-22.082-17.846-40.010-39.93-40.050zM64.236 103.742l-0.308 176c-0.040 22.094 17.84 40.032 39.93 40.070 22.092 0.040 40.032-17.84 40.070-39.93l0.14-79.672 235.734 235.73c15.622 15.622 40.948 15.622 56.568 0s15.622-40.946 0-56.566l-235.442-235.442 78.946 0.098c22.092 0.028 40.022-17.86 40.050-39.95 0.014-11.066-4.464-21.086-11.714-28.336-7.228-7.222-17.208-11.7-28.236-11.714l-175.688-0.218c-22.084-0.026-40.012 17.844-40.050 39.93zM103.748 959.766l176 0.308c22.094 0.040 40.032-17.84 40.070-39.93 0.040-22.092-17.84-40.032-39.93-40.070l-79.672-0.14 235.73-235.734c15.622-15.622 15.622-40.948 0-56.568s-40.946-15.622-56.566 0l-235.442 235.442 0.098-78.946c0.028-22.092-17.86-40.022-39.95-40.050-11.066-0.014-21.086 4.464-28.336 11.714-7.222 7.228-11.7 17.208-11.714 28.236l-0.218 175.688c-0.026 22.082 17.844 40.010 39.93 40.050z"
          fill="currentColor"
        ></path>
      </svg>
      <svg
        v-else
        xmlns="http://www.w3.org/2000/svg"
        width="2.5rem"
        height="2.5rem"
        viewBox="0 0 1024 1024"
      >
        <path
          d="M693.022 637.866c15.62 15.622 15.618 40.95 0 56.566-15.622 15.622-40.946 15.624-56.562 0.002l-124.46-124.458-124.456 124.458c-15.622 15.622-40.944 15.622-56.562 0-15.624-15.622-15.624-40.946-0.002-56.568l124.454-124.456-124.452-124.45c-15.622-15.622-15.622-40.946 0-56.564 15.62-15.624 40.944-15.624 56.568-0.002l124.45 124.45 124.454-124.452c15.622-15.62 40.95-15.62 56.566 0 15.622 15.62 15.624 40.944 0.002 56.56l-124.456 124.458 124.456 124.456zM828.784 828.784c-174.956 174.956-458.614 174.956-633.566 0-174.958-174.956-174.958-458.614 0-633.566 174.954-174.958 458.612-174.958 633.566 0 174.954 174.952 174.954 458.612 0 633.566zM880 511.998c-0.002-98.296-38.28-190.708-107.786-260.212s-161.92-107.786-260.214-107.788c-98.296 0.002-190.71 38.282-260.216 107.786-69.506 69.508-107.782 161.918-107.786 260.214 0.002 98.296 38.282 190.71 107.786 260.216 69.508 69.506 161.918 107.784 260.216 107.784 98.296 0 190.708-38.278 260.214-107.784s107.784-161.92 107.786-260.216z"
          fill="currentColor"
        ></path>
      </svg>
    </div>
    <!-- /Fullscreen -->
    <!-- Screenshot -->
    <div @click="$emit('requestScreenshot')" class="toolbar-icon">
      <svg
        width="2.5rem"
        height="2.5rem"
        viewBox="0 0 25.248 19.969"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g transform="translate(-133.96 -166.49)">
          <path
            transform="scale(.26458)"
            d="m540.61 629.24c-3.1824 1.4486-5.6992 4.0875-6.9746 7.3633h-17.111c-5.6534 0-10.205 4.5517-10.205 10.205v47.701c0 5.6534 4.5516 10.205 10.205 10.205h75.016c5.6534 0 10.205-4.5517 10.205-10.205v-47.701c0-5.6534-4.5517-10.205-10.205-10.205h-17.111c-1.2753-3.2759-3.7922-5.9147-6.9746-7.3633zm-17.033 17.018a3.8883 3.8883 0 013.8887 3.8887 3.8883 3.8883 0 01-3.8887 3.8867 3.8883 3.8883 0 01-3.8887-3.8867 3.8883 3.8883 0 013.8887-3.8887zm30.455 1.2754a22.236 22.825 0 0122.236 22.826 22.236 22.825 0 01-22.236 22.824 22.236 22.825 0 01-22.236-22.824 22.236 22.825 0 0122.236-22.826zm0 4.2461a18.101 18.58 0 00-18.1 18.58 18.101 18.58 0 0018.1 18.58 18.101 18.58 0 0018.102-18.58 18.101 18.58 0 00-18.102-18.58z"
            fill="currentColor"
          />
        </g>
      </svg>
    </div>
    <!-- /Screenshot -->
    <!-- Settings -->
    <div @click="toggleSettings" class="toolbar-icon">
      <svg
        v-if="!isFullscreen"
        xmlns="http://www.w3.org/2000/svg"
        width="2.5rem"
        height="2.5rem"
        viewBox="0, 0, 400,400"
      >
        <g>
          <path
            d="M172.392 1.194 C 165.523 3.750,158.878 10.799,157.141 17.374 C 156.422 20.098,152.344 49.765,152.344 52.276 C 152.344 52.674,150.498 53.607,148.242 54.349 C 145.986 55.092,141.004 57.053,137.170 58.709 C 133.336 60.364,129.978 61.719,129.709 61.719 C 129.439 61.719,123.090 56.974,115.599 51.174 C 100.403 39.408,97.340 37.905,88.672 37.956 C 79.481 38.011,77.650 39.241,58.756 58.050 C 31.649 85.035,31.038 89.656,51.147 115.585 C 56.961 123.083,61.719 129.439,61.719 129.709 C 61.719 129.978,60.364 133.336,58.709 137.170 C 57.053 141.004,55.092 145.986,54.349 148.242 C 53.607 150.498,52.588 152.355,52.086 152.370 C 44.965 152.570,16.794 157.082,13.893 158.487 C 1.657 164.410,0.391 168.304,0.391 200.000 C 0.391 231.696,1.657 235.590,13.893 241.513 C 16.794 242.918,44.965 247.430,52.086 247.630 C 52.588 247.645,53.607 249.502,54.349 251.758 C 55.092 254.014,57.053 258.996,58.709 262.830 C 60.364 266.664,61.719 270.022,61.719 270.291 C 61.719 270.561,56.961 276.917,51.147 284.415 C 36.904 302.780,34.878 309.378,39.900 321.052 C 42.205 326.411,73.741 357.781,79.288 360.233 C 90.149 365.036,97.745 362.650,115.599 348.826 C 123.090 343.026,129.484 338.281,129.808 338.281 C 130.133 338.281,133.491 339.636,137.270 341.291 C 141.049 342.947,145.986 344.909,148.242 345.651 C 150.498 346.393,152.348 347.412,152.354 347.914 C 152.422 354.121,157.113 383.063,158.536 386.064 C 164.359 398.340,168.245 399.609,200.000 399.609 C 231.676 399.609,235.592 398.339,241.495 386.144 C 242.889 383.265,247.578 354.123,247.646 347.914 C 247.652 347.412,249.502 346.393,251.758 345.651 C 254.014 344.908,258.996 342.947,262.830 341.291 C 266.664 339.636,270.022 338.281,270.291 338.281 C 270.561 338.281,276.910 343.026,284.401 348.826 C 302.255 362.650,309.851 365.036,320.712 360.233 C 326.267 357.777,356.975 327.232,359.915 321.239 C 365.238 310.387,362.879 302.551,348.826 284.401 C 343.026 276.910,338.281 270.561,338.281 270.291 C 338.281 270.022,339.636 266.664,341.291 262.830 C 342.947 258.996,344.908 254.014,345.651 251.758 C 346.393 249.502,347.205 247.656,347.455 247.656 C 350.942 247.656,380.416 243.378,383.594 242.410 C 389.430 240.633,396.811 233.429,398.734 227.633 C 400.985 220.846,400.291 175.211,397.861 170.281 C 395.600 165.694,390.572 160.648,386.107 158.487 C 383.206 157.082,355.035 152.570,347.914 152.370 C 347.412 152.355,346.393 150.498,345.651 148.242 C 344.908 145.986,342.947 141.004,341.291 137.170 C 339.636 133.336,338.281 129.978,338.281 129.709 C 338.281 129.439,343.026 123.090,348.826 115.599 C 362.899 97.422,365.256 89.650,359.963 78.861 C 356.977 72.772,326.335 42.254,320.712 39.767 C 309.851 34.964,302.255 37.350,284.401 51.174 C 276.910 56.974,270.561 61.719,270.291 61.719 C 270.022 61.719,266.664 60.364,262.830 58.709 C 258.996 57.053,254.014 55.092,251.758 54.349 C 249.502 53.607,247.652 52.588,247.646 52.086 C 247.578 45.877,242.889 16.735,241.495 13.856 C 239.350 9.425,234.294 4.393,229.719 2.139 C 225.168 -0.104,177.973 -0.882,172.392 1.194 M215.832 118.792 C 281.517 132.178,305.266 212.069,257.508 258.984 C 210.616 305.048,131.989 280.589,118.792 215.832 C 107.210 158.996,158.996 107.210,215.832 118.792 "
            fill="currentColor"
          ></path>
        </g>
      </svg>
    </div>
    <!-- /Settings -->
  </v-row>
</template>

<style scoped>
.toolbar {
  color: #959fad;
  padding: 1rem;
}

@media (prefers-color-scheme: dark) {
  .toolbar {
    color: #6c7786;
  }
}

.toolbar-icon {
  cursor: pointer;
}

.toolbar-icon:hover {
  color: #8c95a3;
}
</style>

<script lang="ts">
import Vue from "vue";

export default Vue.extend({
  name: "GraphToolbar",
  props: {
    showSettings: {
      type: Boolean,
      required: true,
    },
  },
  data(): {
    isFullscreen: boolean;
  } {
    return {
      isFullscreen: false,
    };
  },
  methods: {
    /**
     * Toggle fullscreen of currently viewing graph
     * @author: Austin Pearce
     */
    toggleFullscreen(): void {
      const graphContainer = document.getElementById("graph-container");
      graphContainer?.classList.toggle("fullscreen");
      this.isFullscreen
        ? document.exitFullscreen()
        : document.documentElement.requestFullscreen();
      this.isFullscreen = !this.isFullscreen;

      this.$emit("fullscreen", this.isFullscreen);
    },
    /**
     * Toggle the visiblility of the graph settings view
     * @author: Austin Pearce
     */
    toggleSettings(): void {
      this.$emit("settings", !this.showSettings);
    },
  },
});
</script>
